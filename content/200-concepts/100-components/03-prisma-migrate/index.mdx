---
title: 'Prisma Migrate'
metaTitle: 'Prisma Migrate (Reference)'
metaDescription: 'Prisma Migrate is a declarative data modeling and schema migration tool that is available via the Prisma CLI.'
preview: true
---

<TopBlock>

Prisma Migrate is a **declarative** migration system that enables you to make changes to your database schema - for example, creating tables or modifying columns. Prisma Migrate:

1. Parses your [Prisma schema](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-schema)
2. Generates `.sql` migration files with changes that are run against your database.

</TopBlock>

## Example

1. Create schema

  ```prisma
  datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
  }

  model User {
    id    Int      @id @default(autoincrement())
    name  String
    posts Post[]
  }

  model Post {
    id        Int     @id @default(autoincrement())
    title     String
    published Boolean @default(true)
    authorId  Int
    author    User    @relation(fields: [authorId], references: [id])
  }
  ```

2. Migrate schema:

   ```terminal
   prisma migrate dev --preview-feature
   ```

   Creates the following SQL file:

   ```sql file=migration.sql
   -- CreateTable
    CREATE TABLE "User" (
    "id" SERIAL,
        "name" TEXT NOT NULL,

        PRIMARY KEY ("id")
    );
    -- CreateTable
    CREATE TABLE "Post" (
    "id" SERIAL,
        "title" TEXT NOT NULL,
        "published" BOOLEAN NOT NULL DEFAULT true,
        "authorId" INTEGER NOT NULL,

        PRIMARY KEY ("id")
    );
    -- AddForeignKey
    ALTER TABLE "Post" ADD FOREIGN KEY("authorId")REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE;
    ```

3. Change schema slightly by adding a field:

4. _Draft_ a migration:

   
   This creats a migration without applying it, which gives you the opportunity to edit the SQL script.

5. Edit migration:

6. Migrate:

## Shadow database

## Paths

### Happy path

### Cannot apply migration

### Migration history conflict

### Database schema drift

## CLI command reference

## Guides

* Guide: Upgrading from legacy Prisma Migrate
* Guide: Upgrading from a third party migration tool

## Limitations and known issues